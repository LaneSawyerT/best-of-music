{% extends "base.html" %}
{% block content %}

<section>
    <!-- flash messages -->
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <div class="row flashes">
        <h4 class="light-blue lighten-4 center-align">{{ message }}</h4>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
</section>

<div class="row">
    {% for d in data %}

    <div class="col s12 m6 offset-m3">
        <div class="card register-content">
            <div class="card-content">
                <span class="card-title">{{ username }}'s Profile</span>
                    <form>
                        <h3>Edit your posts</h3>
                        <div class="">
                            {% for album, info in d.items() %}
                            <h4>{{ album }}</h4>
                            <p>{{ info["artist_name"] }}</p>
                            <p>{{ info["rating"] }}</p>
                            <img class="materialboxed" width="150" src="{{ info['image_url'] }}">
                            <a href="{{ url_for('edit_rating', rating_id=info['rating_id']) }}">Edit</a>
                            {% endfor %}
                            
                            {% if loop.index is divisibleby 3 %}
                            <div class="row">
                                {% endif %}
                                {% endfor %}
                                </div>

                        </div>
                    </form>
            </div>
            </form>
        </div>
    </div>
</div>

{% endblock %}